# lagou-job-report  
  
**ä»æ‹‰å‹¾æ‹›è˜å°çª¥äº’è”ç½‘è¡Œä¸šå‘å±•ã€‚**
  
[ç‚¹æ­¤æŸ¥çœ‹ç»“æœæŠ¥å‘Š](http://peggyzwy.github.io/lagou-job-report/)  
  
## ç¨‹åºè¯´æ˜  
1. è¿è¡ŒlagouSpider.pyåä¼šå¾—åˆ°ä¸€ä¸ªæ•°æ®åº“ï¼štest.dbã€‚è¿™ä¸€æ­¥çˆ¬è™«çˆ¬äº†1.5å°æ—¶
2. çœ‹çœ‹æ•°æ®åº“ï¼Œå‘ç°salaryä¸€åˆ—çš„å†…å®¹å„ç§å„æ ·ï¼Œä¹‹åç”¨EChartsä½œå›¾è¦ç”¨åˆ°å·¥èµ„æ•°æ®ï¼Œæˆ‘çš„ç›®æ ‡æ˜¯æŠŠå·¥èµ„å½’ä¸ºsalary_list = ['0-5k', '6-10k', '11-15k', '16-20k', '21-25k', '26-30k', '30k+']ä¸­çš„ä¸€ä¸ªã€‚ä¸ºäº†è¿½æ±‚å°½å¯èƒ½å¤§çš„å‡†ç¡®æ€§ï¼Œæˆ‘æ˜¯äººå·¥åˆ¤æ–­æ•´ç†çš„ï¼Œå¦‚æœä¸è¦é‚£ä¹ˆç²¾ç¡®ï¼Œå¯ä»¥å†™ä¸ªè¾…åŠ©ç¨‹åºã€‚è¿™ä¸€æ­¥åœ¨è¡¨lagoué‡Œæ·»åŠ äº†ä¸€åˆ—cleanedSalary  
3. 2æ­¥å®Œæˆåï¼Œè¿è¡Œanalyse.pyã€‚ä¿è¯test.dbå’Œæ­¤ç¨‹åºåœ¨åŒä¸€ç›®å½•å°±å¥½äº†ã€‚è¿è¡Œä¸­ï¼Œä¼šåœ¨è¡¨lagoué‡Œæ–°å»ºä¸€åˆ—developmentStageï¼Œè¿˜ä¼šæ–°å»ºä¸€ä¸ªè¡¨totalcountã€‚æœ€åPythonä¼šæŠŠæŸ¥è¯¢ç»“æœè½¬æˆJSONæ ¼å¼å†™å…¥results_dict.jsï¼Œåœ¨ä¸‹ä¸€æ­¥ä¸­ä¼šè¢«å¼•å…¥HTMLä¸­å½“åšJSçš„å…¨å±€å˜é‡ï¼Œç„¶åæ‰å¯ä»¥ç»™EChartsé…ç½®æ•°æ®ã€‚å› ä¸ºæ˜¯æœ¬åœ°æ–‡ä»¶ï¼Œæ²¡æœ‰ç”¨Ajaxï¼Œæ‰€ä»¥å†™å…¥çš„æ—¶å€™ç»™å®ƒé™„äº†å˜é‡åï¼Œä¾¿äºåœ¨HTMLä¸­å¼•ç”¨ï¼Œæ‰€ä»¥æ˜¯jsæ–‡ä»¶è€Œä¸æ˜¯å­˜çš„json
4. index.htmlä¼šå¼•å…¥EChartsçš„JSä»¥åŠä¸Šé¢è¿™ä¸ªresults_dict.jsï¼ŒåŠ¨æ€æ’å…¥æ•°æ®ï¼Œå°±å¯ä»¥åœ¨ç½‘é¡µä¸Šçœ‹åˆ°å¯è§†åŒ–çš„æ•°æ®äº†  

  
## æ€»ç»“  
### SQLite  
1. SQLiteæ•°æ®åº“ä½¿ç”¨çš„æ˜¯UTF-8ç¼–ç æ–¹å¼ï¼Œè€Œä¼ å…¥çš„å­—ç¬¦ä¸²è‹¥æ˜¯ASCIIç¼–ç æˆ–Unicodeç¼–ç ï¼Œä¼šå¯¼è‡´å­—ç¬¦ä¸²æ ¼å¼é”™è¯¯ã€‚è§£å†³æ–¹æ¡ˆæ˜¯åœ¨è°ƒç”¨SQLiteæ¥å£ä¹‹å‰ï¼Œå…ˆå°†å­—ç¬¦ä¸²è½¬æ¢æˆUTF-8ç¼–ç ã€‚ä»¥åŠtext_factoryå±æ€§ï¼Œå‚è€ƒ[Python sqlite3æ¨¡å—çš„text_factoryå±æ€§çš„ä½¿ç”¨æ–¹æ³•ç ”ç©¶](http://www.bubuko.com/infodetail-806298.html) ã€‚  
2. å¦‚æœå­—æ®µé€‰å®šäº†TEXTï¼Œå°±ä¸èƒ½ç›´æ¥æ”¾æ•°ç»„è¿›å»ï¼Œè¦å…ˆæŠŠæ•°ç»„å˜æˆå­—ç¬¦ä¸²  
3. åœ¨SQLiteä¸­æ–°å¢ä¸€åˆ—ï¼š`ALTER TABLE table-name ADD COLUMN column-name column-type`  
4. SQLiteä¸æ”¯æŒåˆ é™¤åˆ—çš„æ“ä½œï¼ˆå¥½å‘å•Šã€‚ã€‚ã€‚ï¼‰ã€‚  
   ä¸€ç§æ›¿ä»£æ–¹æ³•æ˜¯ï¼š1ï¼‰æ ¹æ®åŸè¡¨åˆ›å»ºä¸€å¼ æ–°è¡¨ï¼›2ï¼‰åˆ é™¤åŸè¡¨ï¼›3ï¼‰å°†æ–°è¡¨é‡åä¸ºæ—§è¡¨çš„åç§°  

     
### PythonåŠçˆ¬è™« 
1. åœ¨ç”¨requestæ¨¡å—è®¾ç½®proxyæ—¶ï¼Œå¼€å§‹å¿˜äº†åŠ ç«¯å£ï¼Œç„¶åå‡ºç°äº†UNKNOWN HOSTçš„é”™è¯¯
2. ä¸ºäº†é˜²æ­¢çˆ¬è™«å‡æ­»ï¼Œå»ºè®®åœ¨requestså‚æ•°é‡Œè®¾ç½®timeout  
3. åœ¨çˆ¬è™«è¿æ¥ç½‘ç»œæ—¶ï¼Œå¯èƒ½å‡ºç°å¤šç§é”™è¯¯ã€‚ä¸€ç§ConnectTimeoutï¼Œè¿™æ˜¯è¿æ¥ä¸»æœºè¶…æ—¶ï¼›è¿˜æœ‰ä¸€ç§æ˜¯ReadTimeoutï¼Œè¿™æ˜¯ä»ä¸»æœºè¯»å–æ•°æ®è¶…æ—¶  
4. çˆ¬è™«çš„ç¨³å®šæ€§å’Œå®¹é”™æ€§ã€‚ç½‘ç»œæœ¬æ¥å°±å­˜åœ¨ä¸ç¨³å®šæ€§ï¼Œè¿æ¥è¶…æ—¶ï¼Œè¿æ¥é‡ç½®ç­‰æ˜¯å¸¸è§çš„ä¸ç¨³å®šç°è±¡ï¼Œçˆ¬è™«è¦å……åˆ†å¦¥å½“åœ°å¤„ç†è¿™äº›é—®é¢˜  
5. ç½‘ç»œçˆ¬è™«æœ€å¸¸è§çš„é”™è¯¯è«è¿‡äºè¿æ¥è¶…æ—¶å’Œè¿æ¥è¢«é‡ç½®äº†ï¼Œè€Œè¿™äº›é”™è¯¯åˆæ˜¯å¶ç„¶æ€§çš„ï¼Œå¯èƒ½åŒä¸€ä¸ªç½‘é¡µç¬¬ä¸€æ¬¡è¿æ¥è¶…æ—¶ï¼Œä½†ç¬¬äºŒæ¬¡å¯èƒ½å°±æ­£å¸¸äº†ã€‚æ‰€ä»¥åœ¨è€ƒè™‘åˆ°å¦‚ä½•è¿™äº›é”™è¯¯çš„è¿æ¥ï¼Œæˆ‘çš„åšæ³•æ˜¯æŠŠå‡ºé—®é¢˜çš„è¿æ¥è®°å½•ä¸‹æ¥åˆ°ä¸€ä¸ªæ•°ç»„é‡Œï¼Œç­‰ç¬¬ä¸€æ¬¡æ‰€æœ‰ç½‘é¡µçˆ¬å®Œä¹‹åï¼Œå†çˆ¬ä¸€æ¬¡ç¬¬ä¸€æ¬¡æœ‰é—®é¢˜çš„ç½‘é¡µ
6. å¼€å§‹æˆ‘æ²¡æœ‰é…ç½®IPä»£ç†ï¼Œå°±ç”¨çš„è‡ªå·±ç”µè„‘ï¼Œåæ¥è¢«å°äº†ã€‚ã€‚ã€‚è€Œä¸”ç°åœ¨ç”¨ç”µè„‘ä¸Šæ‹‰å‹¾ç½‘ä¹Ÿä¸Šä¸å»ğŸ˜­æ‰€ä»¥å»ç½‘ä¸Šæ‰¾äº†äº›é«˜åŒ¿HTTPä»£ç†ï¼Œæµ‹è¯•äº†ä¸‹ï¼Œæ”¾å…¥äº†ä»£ç†æ± é‡Œé¢
7. æ‹‰å‹¾ç½‘åçˆ¬è™«æœºåˆ¶ä¼¼ä¹æ˜¯ä¸æ–­é‡å®šå‘ã€‚è‡ªå·±ä»£ç†æ± é‡Œçš„ä¸é‡å¤çš„å…±æœ‰30ä¸ªï¼Œçˆ¬å®Œä¸€æ¬¡ä¹‹åç‰ºç‰²äº†7ä¸ªğŸ˜“  
8. å¯¹æ•°ç»„è¿›è¡Œåå‘æ“ä½œã€‚å‡è®¾è¿™ä¸ªæ•°ç»„å«arrï¼Œå¦‚æœç”¨arr.reverse()æ˜¯æŠŠæ•°ç»„æœ¬èº«æ”¹å˜äº†ï¼Œä¸ä¼šè¿”å›å€¼ï¼Œå¦‚æœç¨‹åºé‡Œå…¶ä»–åœ°æ–¹ä¹Ÿæœ‰å¯èƒ½ç”¨åˆ°è¿™ä¸ªæ•°ç»„ï¼Œåƒä¸‡ä¸è¦è¿™ä¹ˆå†™ï¼›ç”¨arr[::-1]å¤åˆ¶ä¸€ä»½å°±å¥½å•¦  

### JavaScriptå’ŒPython  
1. Pythoné‡Œç”¨json.dumps()è½¬æˆJSONåï¼Œæ³¨æ„åˆ°å¦‚æœåŸæ¥æœ‰å¸ƒå°”å€¼ï¼Œéƒ½å˜æˆå­—ç¬¦ä¸²äº†ï¼Œæ‰€ä»¥åœ¨æ‹¿åˆ°JSONæ•°æ®çš„ä¸€æ–¹è¦æ³¨æ„å»å¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œå¦åˆ™å°±æ‰å‘äº†  
2. ä¸€èµ·å†™çš„æ—¶å€™è¯­æ³•ä»€ä¹ˆçš„å®¹æ˜“ä¸€ä¸‹å­æ‡µé€¼ï¼Œä¸è¿‡è¿™æ¬¡æ¯”ä¹‹å‰æœ‰æ¬¡æ··æ·†å¥½å¤šäº†ï¼Œå¯èƒ½æ˜¯é‚£ä¹‹åJSåˆçœ‹äº†ä¸€éï¼Œæ›´ç†Ÿäº†ä¸€äº›ã€‚æ‰€ä»¥è¿™æ¬¡å†™è¿™ä¸ªå°é¡¹ç›®çš„æ—¶å€™ä¹Ÿæœ‰å¯¹æ¯”ç€è®°å½•ã€‚å¹³æ—¶åšå¥½è®°å½•æ˜¯å¥½ä¹ æƒ¯ï¼ğŸ˜Š  
  
æ¯”å¦‚Pythoné‡Œé¢ä¸‹é¢è¿™ç§è¯­å¥ç‰¹åˆ«æ–¹ä¾¿ï¼Œä½†æ˜¯JavaScripté‡Œé¢æ²¡æœ‰:  
  
	# Python
	for i in range(3):
		print i,  # output: 0 1 2  
		    
ç„¶åæœç„¶æœ‰äººè·Ÿæˆ‘æœ‰åŒæ ·çš„æƒ³æ³•ï¼ŒSOä¸Šé¢ç»™å‡ºäº†ä»£ç ï¼š  
  
[JavaScript's implementation of Python's `range()`](http://stackoverflow.com/questions/8273047/javascript-function-similar-to-python-range) 
  
  	// JavaScript  
  	function range(start, stop, step) {
    if (typeof stop == 'undefined') {
        // one param defined
        stop = start;
        start = 0;
    }

    if (typeof step == 'undefined') {
        step = 1;
    }

    if ((step > 0 && start >= stop) || (step < 0 && start <= stop)) {
        return [];
    }

    var result = [];
    for (var i = start; step > 0 ? i < stop : i > stop; i += step) {
        result.push(i);
    }

    return result;
	};  
	    
